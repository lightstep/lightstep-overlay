var LightStepOverlay=function(e){function t(s){if(o[s])return o[s].exports;var l=o[s]={exports:{},id:s,loaded:!1};return e[s].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function l(e){if(e){var t=e.imp();t&&t.on("report",function(e){var o=e.span_records;if(o&&0!==o.length){var s=void 0,l=t.options(),r=4,a=0,n=void 0;if(l.collector_port>=9997&&l.collector_port<=9998)n="http://"+window.location.hostname+":"+window.location.port+"/"+l.access_token+"/";else{var c=l.collector_host;c.match(/^collector[.-]/)&&(c=c.replace(/^collector([.-])/,"app$1")),n="https://"+c+"/"+l.access_token+"/"}var y=document.getElementById(i);y||!function(){var e=document.createElement("a");e.href=n+"latest?q=tracer.guid:"+o[0].runtime_guid,e.style.position="fixed",e.style.bottom="2em",e.style.right="2em",e.style.width="3em",e.style.height="3em",e.style.borderRadius="3em",e.style.cursor="pointer",e.style.background="rgb(0, 163, 255)",e.style.boxShadow="0 0 0 1px #c4c4c4, 0 2px 20px 0 #e2e2e2",e.style.transition=".25s all cubic-bezier(.38,-0.19,.62,1.23)",e.style.transform="scale(0)",e.style.opacity="0";var t=document.createElement("div");t.style.width="100%",t.style.height="100%",t.style.display="block",t.style.borderRadius="3em",t.style.background="linear-gradient(to bottom right,#00d6ff,#3b6fcb 90%)",t.style.opacity="0",t.style.boxShadow="0 0 0 0 transparent",t.style.transition=".2s all";var l=document.createElement("p");l.style.position="absolute",l.style.top="0",l.style.left="3.25em",l.style.lineHeight="3em",l.style.fontFamily='"HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif',l.style.color="#FFF",l.style.opacity="0",l.innerHTML="View traces",l.style.transition=".2s all";var r=document.createElement("p");r.style.position="absolute",r.style.top="0",r.style.right="0",r.style.width="2em",r.style.borderRadius="0 3rem 3rem 0",r.style.borderLeft="1px solid rgba(0,0,0,.15)",r.style.boxShadow="inset 1px 0 0 0 rgba(255,255,255,.2)",r.style.lineHeight="3rem",r.style.color="#FFF",r.style.opacity="0",r.style.fontSize="1.5rem",r.style.textAlign="center",r.innerHTML="Ã—",r.style.transition=".2s all";var a=document.createElement("img");a.src="http://imgur.com/brQx4rK.png",a.style.width="2em",a.style.position="absolute",a.style.top=".925em",a.style.left=".5em",e.onmouseenter=function(o){t.style.background="linear-gradient(to bottom right,#00d6ff,#3b6fcb 90%)",t.style.opacity="1",e.style.boxShadow="rgb(196, 196, 196) 0px 0px 0px 1px, rgb(184, 184, 184) 0px 4px 30px 0px",e.style.opacity="1",e.style.width="12em",l.style.opacity=".9",r.style.opacity=".9",l.style.color="rgba(255,255,255,.6)",r.style.color="rgba(255,255,255,.6)"},e.onmouseleave=function(o){t.style.boxShadow="0 0 0 0 transparent",t.style.opacity="0",e.style.boxShadow="0 0 0 1px #c4c4c4, 0 2px 20px 0 #e2e2e2",e.style.width="3em",l.style.opacity="0",r.style.opacity="0"},r.onmouseenter=function(e){r.style.color="rgba(255,255,255,.9)",l.style.color="rgba(255,255,255,.6)"},r.onmouseleave=function(e){r.style.color="rgba(255,255,255,.6)",l.style.color="rgba(255,255,255,.9)"},r.onclick=function(t){t.preventDefault(),t.stopPropagation(),e.style.transform="scale(0)",e.style.opacity="0"},e.appendChild(t),e.appendChild(a),e.appendChild(l),e.appendChild(r),y=document.createElement("div"),y.id=i,s=document.createElement("a"),s.href=n;var c=document.createElement("div");c.appendChild(s),y.appendChild(c),document.body.appendChild(y),document.body.appendChild(e),e.style.opacity="0",window.getComputedStyle(e).opacity,e.style.transform="scale(1)",e.style.opacity="1"}();for(var d=0;d<y.childNodes.length;d++){var p=y.childNodes[d];"lightstep_span"===p.className&&a++}if(!(a>r)){for(var m=[],u=0;u<o.length;u++)m.push({summary:o[u].span_name,oldest_micros:o[u].oldest_micros,youngest_micros:o[u].youngest_micros,span_guid:o[u].span_guid});for(var g=0;g<m.length;g++)for(var h=g+1;h<m.length;h++)m[h].oldest_micros<=m[g].youngest_micros&&m[h].youngest_micros>=m[g].oldest_micros&&(m[h].oldest_micros<m[g].oldest_micros?(m[g].summary=m[h].summary+", "+m[g].summary,m[g].oldest_micros=m[h].oldest_micros):m[g].summary+=", "+m[h].summary,m[h].youngest_micros>m[g].youngest_micros&&(m[g].youngest_micros=m[h].youngest_micros),m[h]=m[m.length-1],m=m.slice(0,m.length-1),h=g);for(var f=0;f<m.length&&a<=r;f++)a++}}})}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=l;var r=o(1),a=s(r),i="lightstep_overlay";l(a["default"]),e.exports=t["default"]},function(e,t){e.exports=Tracer}]);
//# sourceMappingURL=lightstep-overlay.min.js.map