var LightStepOverlay=function(e){function t(s){if(o[s])return o[s].exports;var l=o[s]={exports:{},id:s,loaded:!1};return e[s].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t){"use strict";function o(e){if(tracer)return"function"!=typeof e.on?void console.warn("Incompatible tracer object",tracer):void e.on("report",function(t){var o=t.span_records;if(o&&0!==o.length){var l=void 0,r=e.options(),a=4,i=0,n=void 0;if(r.collector_port>=9997&&r.collector_port<=9998)n="http://"+window.location.hostname+":"+window.location.port+"/"+r.access_token+"/";else{var c=r.collector_host;c.match(/^collector[.-]/)&&(c=c.replace(/^collector([.-])/,"app$1")),n="https://"+c+"/"+r.access_token+"/"}var y=document.getElementById(s);if(!y){var d=document.createElement("a");d.href=n+"latest?q=tracer.guid:"+o[0].runtime_guid,d.style.position="fixed",d.style.bottom="2em",d.style.right="2em",d.style.width="3em",d.style.height="3em",d.style.borderRadius="3em",d.style.cursor="pointer",d.style.background="rgb(0, 163, 255)",d.style.boxShadow="0 0 0 1px #c4c4c4, 0 2px 20px 0 #e2e2e2",d.style.transition=".25s all cubic-bezier(.38,-0.19,.62,1.23)",d.style.transform="scale(0)",d.style.opacity="0";var p=document.createElement("div");p.style.width="100%",p.style.height="100%",p.style.display="block",p.style.borderRadius="3em",p.style.background="linear-gradient(to bottom right,#00d6ff,#3b6fcb 90%)",p.style.opacity="0",p.style.boxShadow="0 0 0 0 transparent",p.style.transition=".2s all";var m=document.createElement("p");m.style.position="absolute",m.style.top="0",m.style.left="3.25em",m.style.lineHeight="3em",m.style.fontFamily='"HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif',m.style.color="#FFF",m.style.opacity="0",m.innerHTML="View traces",m.style.transition=".2s all";var u=document.createElement("p");u.style.position="absolute",u.style.top="0",u.style.right="0",u.style.width="2em",u.style.borderRadius="0 3rem 3rem 0",u.style.borderLeft="1px solid rgba(0,0,0,.15)",u.style.boxShadow="inset 1px 0 0 0 rgba(255,255,255,.2)",u.style.lineHeight="3rem",u.style.color="#FFF",u.style.opacity="0",u.style.fontSize="1.5rem",u.style.textAlign="center",u.innerHTML="Ã—",u.style.transition=".2s all";var g=document.createElement("img");g.src="http://imgur.com/brQx4rK.png",g.style.width="2em",g.style.position="absolute",g.style.top=".925em",g.style.left=".5em",d.onmouseenter=function(e){p.style.background="linear-gradient(to bottom right,#00d6ff,#3b6fcb 90%)",p.style.opacity="1",d.style.boxShadow="rgb(196, 196, 196) 0px 0px 0px 1px, rgb(184, 184, 184) 0px 4px 30px 0px",d.style.opacity="1",d.style.width="12em",m.style.opacity=".9",u.style.opacity=".9",m.style.color="rgba(255,255,255,.6)",u.style.color="rgba(255,255,255,.6)"},d.onmouseleave=function(e){p.style.boxShadow="0 0 0 0 transparent",p.style.opacity="0",d.style.boxShadow="0 0 0 1px #c4c4c4, 0 2px 20px 0 #e2e2e2",d.style.width="3em",m.style.opacity="0",u.style.opacity="0"},u.onmouseenter=function(e){u.style.color="rgba(255,255,255,.9)",m.style.color="rgba(255,255,255,.6)"},u.onmouseleave=function(e){u.style.color="rgba(255,255,255,.6)",m.style.color="rgba(255,255,255,.9)"},u.onclick=function(e){e.preventDefault(),e.stopPropagation(),d.style.transform="scale(0)",d.style.opacity="0"},d.appendChild(p),d.appendChild(g),d.appendChild(m),d.appendChild(u),y=document.createElement("div"),y.id=s,l=document.createElement("a"),l.href=n;var h=document.createElement("div");h.appendChild(l),y.appendChild(h),document.body.appendChild(y),document.body.appendChild(d),d.style.opacity="0",window.getComputedStyle(d).opacity,d.style.transform="scale(1)",d.style.opacity="1"}for(var f=0;f<y.childNodes.length;f++){var b=y.childNodes[f];"lightstep_span"===b.className&&i++}if(!(i>a)){for(var v=[],x=0;x<o.length;x++)v.push({summary:o[x].span_name,oldest_micros:o[x].oldest_micros,youngest_micros:o[x].youngest_micros,span_guid:o[x].span_guid});for(var _=0;_<v.length;_++)for(var w=_+1;w<v.length;w++)v[w].oldest_micros<=v[_].youngest_micros&&v[w].youngest_micros>=v[_].oldest_micros&&(v[w].oldest_micros<v[_].oldest_micros?(v[_].summary=v[w].summary+", "+v[_].summary,v[_].oldest_micros=v[w].oldest_micros):v[_].summary+=", "+v[w].summary,v[w].youngest_micros>v[_].youngest_micros&&(v[_].youngest_micros=v[w].youngest_micros),v[w]=v[v.length-1],v=v.slice(0,v.length-1),w=_);for(var C=0;C<v.length&&i<=a;C++)i++}}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var s="lightstep_overlay";e.exports=t.default}]);
//# sourceMappingURL=lightstep-overlay.min.js.map