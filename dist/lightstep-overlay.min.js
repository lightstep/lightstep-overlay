var LightStepOverlay=function(e){function t(l){if(o[l])return o[l].exports;var s=o[l]={exports:{},id:l,loaded:!1};return e[l].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){"use strict";function l(e){return e&&e.__esModule?e:{"default":e}}function s(e){if(!e)return void console.log("No tracer");var t=e.imp();return t?(console.log("Valid tracer"),void t.on("report",function(e){var o=e.span_records;if(o&&0!==o.length){var l=void 0,s=t.options(),r=4,i=0,n=void 0;if(s.collector_port>=9997&&s.collector_port<=9998)n="http://"+window.location.hostname+":"+window.location.port+"/"+s.access_token+"/";else{var c=s.collector_host;c.match(/^collector[.-]/)&&(c=c.replace(/^collector([.-])/,"app$1")),n="https://"+c+"/"+s.access_token+"/"}var y=document.getElementById(a);y||!function(){var e=document.createElement("a");e.href=n+"latest?q=tracer.guid:"+o[0].runtime_guid,e.style.position="fixed",e.style.bottom="2em",e.style.right="2em",e.style.width="3em",e.style.height="3em",e.style.borderRadius="3em",e.style.cursor="pointer",e.style.background="rgb(0, 163, 255)",e.style.boxShadow="0 0 0 1px #c4c4c4, 0 2px 20px 0 #e2e2e2",e.style.transition=".25s all cubic-bezier(.38,-0.19,.62,1.23)",e.style.transform="scale(0)",e.style.opacity="0";var t=document.createElement("div");t.style.width="100%",t.style.height="100%",t.style.display="block",t.style.borderRadius="3em",t.style.background="linear-gradient(to bottom right,#00d6ff,#3b6fcb 90%)",t.style.opacity="0",t.style.boxShadow="0 0 0 0 transparent",t.style.transition=".2s all";var s=document.createElement("p");s.style.position="absolute",s.style.top="0",s.style.left="3.25em",s.style.lineHeight="3em",s.style.fontFamily='"HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif',s.style.color="#FFF",s.style.opacity="0",s.innerHTML="View traces",s.style.transition=".2s all";var r=document.createElement("p");r.style.position="absolute",r.style.top="0",r.style.right="0",r.style.width="2em",r.style.borderRadius="0 3rem 3rem 0",r.style.borderLeft="1px solid rgba(0,0,0,.15)",r.style.boxShadow="inset 1px 0 0 0 rgba(255,255,255,.2)",r.style.lineHeight="3rem",r.style.color="#FFF",r.style.opacity="0",r.style.fontSize="1.5rem",r.style.textAlign="center",r.innerHTML="Ã—",r.style.transition=".2s all";var i=document.createElement("img");i.src="http://imgur.com/brQx4rK.png",i.style.width="2em",i.style.position="absolute",i.style.top=".925em",i.style.left=".5em",e.onmouseenter=function(o){t.style.background="linear-gradient(to bottom right,#00d6ff,#3b6fcb 90%)",t.style.opacity="1",e.style.boxShadow="rgb(196, 196, 196) 0px 0px 0px 1px, rgb(184, 184, 184) 0px 4px 30px 0px",e.style.opacity="1",e.style.width="12em",s.style.opacity=".9",r.style.opacity=".9",s.style.color="rgba(255,255,255,.6)",r.style.color="rgba(255,255,255,.6)"},e.onmouseleave=function(o){t.style.boxShadow="0 0 0 0 transparent",t.style.opacity="0",e.style.boxShadow="0 0 0 1px #c4c4c4, 0 2px 20px 0 #e2e2e2",e.style.width="3em",s.style.opacity="0",r.style.opacity="0"},r.onmouseenter=function(e){r.style.color="rgba(255,255,255,.9)",s.style.color="rgba(255,255,255,.6)"},r.onmouseleave=function(e){r.style.color="rgba(255,255,255,.6)",s.style.color="rgba(255,255,255,.9)"},r.onclick=function(t){t.preventDefault(),t.stopPropagation(),e.style.transform="scale(0)",e.style.opacity="0"},e.appendChild(t),e.appendChild(i),e.appendChild(s),e.appendChild(r),y=document.createElement("div"),y.id=a,l=document.createElement("a"),l.href=n;var c=document.createElement("div");c.appendChild(l),y.appendChild(c),document.body.appendChild(y),document.body.appendChild(e),e.style.opacity="0",window.getComputedStyle(e).opacity,e.style.transform="scale(1)",e.style.opacity="1"}();for(var d=0;d<y.childNodes.length;d++){var p=y.childNodes[d];"lightstep_span"===p.className&&i++}if(!(i>r)){for(var m=[],u=0;u<o.length;u++)m.push({summary:o[u].span_name,oldest_micros:o[u].oldest_micros,youngest_micros:o[u].youngest_micros,span_guid:o[u].span_guid});for(var g=0;g<m.length;g++)for(var h=g+1;h<m.length;h++)m[h].oldest_micros<=m[g].youngest_micros&&m[h].youngest_micros>=m[g].oldest_micros&&(m[h].oldest_micros<m[g].oldest_micros?(m[g].summary=m[h].summary+", "+m[g].summary,m[g].oldest_micros=m[h].oldest_micros):m[g].summary+=", "+m[h].summary,m[h].youngest_micros>m[g].youngest_micros&&(m[g].youngest_micros=m[h].youngest_micros),m[h]=m[m.length-1],m=m.slice(0,m.length-1),h=g);for(var f=0;f<m.length&&i<=r;f++)i++}}})):void console.log("Tracer not inited")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=s;var r=o(1),i=l(r),a="lightstep_overlay";s(i["default"]),e.exports=t["default"]},function(e,t){e.exports=Tracer}]);
//# sourceMappingURL=lightstep-overlay.min.js.map