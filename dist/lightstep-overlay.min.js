var LightStepOverlay=function(e){function t(s){if(o[s])return o[s].exports;var l=o[s]={exports:{},id:s,loaded:!1};return e[s].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t){"use strict";function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){if("function"!=typeof e.on)return void console.warn("Incompatible tracer object",tracer);var o={right:"2em",bottom:"2em"};void 0!==t.bottom&&(o.bottom=t.bottom),void 0!==t.right&&(o.right=t.right),e.on("report",function(t){var l=t.span_records;if(l&&0!==l.length){var r=void 0,i=e.options(),a=4,n=0,c=void 0;if(i.collector_port>=9997&&i.collector_port<=9998)c="http://"+window.location.hostname+":"+window.location.port+"/"+i.access_token+"/";else{var y=i.collector_host;y.match(/^collector[.-]/)&&(y=y.replace(/^collector([.-])/,"app$1")),c="https://"+y+"/"+i.access_token+"/"}var d=document.getElementById(s);if(!d){var p=document.createElement("a");p.href=c+"explorer?q=tracer.guid:"+l[0].runtime_guid,p.className="lightstep-overlay-helper",p.style.position="fixed",p.style.bottom=o.bottom,p.style.right=o.right,p.style.width="3em",p.style.height="3em",p.style.borderRadius="3em",p.style.cursor="pointer",p.style.background="rgb(0, 163, 255)",p.style.boxShadow="0 0 0 1px #c4c4c4, 0 2px 20px 0 #e2e2e2",p.style.transition=".25s all cubic-bezier(.38,-0.19,.62,1.23)",p.style.transform="scale(0)",p.style.opacity="0";var m=document.createElement("div");m.style.width="100%",m.style.height="100%",m.style.display="block",m.style.borderRadius="3em",m.style.background="linear-gradient(to bottom right,#00d6ff,#3b6fcb 90%)",m.style.opacity="0",m.style.boxShadow="0 0 0 0 transparent",m.style.transition=".2s all";var u=document.createElement("p");u.style.position="absolute",u.style.top="0",u.style.left="3.25em",u.style.lineHeight="3em",u.style.fontFamily='"HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif',u.style.color="#FFF",u.style.opacity="0",u.innerHTML="View traces",u.style.transition=".2s all";var g=document.createElement("p");g.style.position="absolute",g.style.top="0",g.style.right="0",g.style.width="2em",g.style.borderRadius="0 3rem 3rem 0",g.style.borderLeft="1px solid rgba(0,0,0,.15)",g.style.boxShadow="inset 1px 0 0 0 rgba(255,255,255,.2)",g.style.lineHeight="3rem",g.style.color="#FFF",g.style.opacity="0",g.style.fontSize="1.5rem",g.style.textAlign="center",g.innerHTML="Ã—",g.style.transition=".2s all";var h=document.createElement("img");h.src="/static/images/logo-white.svg",h.style.width="2em",h.style.position="absolute",h.style.top=".925em",h.style.left=".5em",p.onmouseenter=function(e){m.style.background="linear-gradient(to bottom right,#00d6ff,#3b6fcb 90%)",m.style.opacity="1",p.style.boxShadow="rgb(196, 196, 196) 0px 0px 0px 1px, rgb(184, 184, 184) 0px 4px 30px 0px",p.style.opacity="1",p.style.width="12em",u.style.opacity=".9",g.style.opacity=".9",u.style.color="rgba(255,255,255,.6)",g.style.color="rgba(255,255,255,.6)"},p.onmouseleave=function(e){m.style.boxShadow="0 0 0 0 transparent",m.style.opacity="0",p.style.boxShadow="0 0 0 1px #c4c4c4, 0 2px 20px 0 #e2e2e2",p.style.width="3em",u.style.opacity="0",g.style.opacity="0"},g.onmouseenter=function(e){g.style.color="rgba(255,255,255,.9)",u.style.color="rgba(255,255,255,.6)"},g.onmouseleave=function(e){g.style.color="rgba(255,255,255,.6)",u.style.color="rgba(255,255,255,.9)"},g.onclick=function(e){e.preventDefault(),e.stopPropagation(),p.style.transform="scale(0)",p.style.opacity="0"},p.appendChild(m),p.appendChild(h),p.appendChild(u),p.appendChild(g),d=document.createElement("div"),d.id=s,r=document.createElement("a"),r.href=c;var b=document.createElement("div");b.appendChild(r),d.appendChild(b),document.body.appendChild(d),document.body.appendChild(p),p.style.opacity="0",window.getComputedStyle(p).opacity,p.style.transform="scale(1)",p.style.opacity="1"}for(var f=0;f<d.childNodes.length;f++){var v=d.childNodes[f];"lightstep_span"===v.className&&n++}if(!(n>a)){for(var x=[],_=0;_<l.length;_++)x.push({summary:l[_].span_name,oldest_micros:l[_].oldest_micros,youngest_micros:l[_].youngest_micros,span_guid:l[_].span_guid});for(var w=0;w<x.length;w++)for(var C=w+1;C<x.length;C++)x[C].oldest_micros<=x[w].youngest_micros&&x[C].youngest_micros>=x[w].oldest_micros&&(x[C].oldest_micros<x[w].oldest_micros?(x[w].summary=x[C].summary+", "+x[w].summary,x[w].oldest_micros=x[C].oldest_micros):x[w].summary+=", "+x[C].summary,x[C].youngest_micros>x[w].youngest_micros&&(x[w].youngest_micros=x[C].youngest_micros),x[C]=x[x.length-1],x=x.slice(0,x.length-1),C=w);for(var E=0;E<x.length&&n<=a;E++)n++}}})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var s="lightstep_overlay";e.exports=t.default}]);
//# sourceMappingURL=lightstep-overlay.min.js.map